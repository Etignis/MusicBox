<!doctype html>
<html>
<head>
  <title>Music Box</title>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Краткое описание страницы">
  <meta name="Keywords" content="ключевые слова, через запятую">
  <link rel="stylesheet" type="text/css" href="css/style.css">
  <link rel="shortcut icon" href="favicon.ico" />
    <link href="../_fonts/FortAwesome/css/font-awesome.min.css" rel="stylesheet">
  <script src="https://unpkg.com/vue"></script>
  <script type='text/javascript' src='js/jquery-m.js'></script>
  <script type='text/javascript' src='js/script.js'></script

  <!-- IE must understand HTML5: -->
  <!--[if IE]>
   <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->
  <!--[if lt IE 9]>
    <script src="http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js"></script>
  <![endif]-->
  <style>
   article, aside, details, figcaption, figure, footer,header,
   hgroup, menu, nav, section, div { display: block; }
  </style>
</head>

<body>
 <div id='app'>

  <!-- PlayLists -->
	<div>
		{{musicPlaceFilterValue}}, {{musicToneFilterValue}}
	</div>
<!-- ->
  <playlists>
    <playlist-group
      v-for="arrItem in arr"
      v-bind:key="arrItem.id"
      v-bind:checked="arrItem.selectedTagIds"
      v-bind:title="arrItem.title"
      v-bind:styleclass="arrItem.styleclass"
      v-bind:visible="arrItem.visible">
      <playlist-tag
        v-for="tagItem in arrItem.tags"
				v-bind:checked="arrItem.selectedTagIds"
        v-bind:key="tagItem.id"
        v-bind:id="tagItem.id"
        v-bind:title="tagItem.title"
				v-bind="tagItem.params"
        v-model.number="tagItem.volume"
				@click.native="onSelectTag(arrItem, tagItem.id)">
        
      </playlist-tag>
    </playlist-group>
  </playlists>
<!-- -->
	
  <playlists>
		<!-- place -->
    <playlist-item
      :checked="arr.place.selectedTagIds"
      :title="arr.place.title"
      :styleclass="arr.place.styleclass"
			:list="arr.place.tags"
      :visible="arr.place.visible"
			@tclick="onSelectTag(arr.place, $event)">      
    </playlist-item>
		
		<!-- tone -->
    <playlist-item
      :checked="arr.tone.selectedTagIds"
      :title="arr.tone.title"
      :styleclass="arr.tone.styleclass"
			:list="arr.tone.tags"
      :visible="arr.tone.visible"
			@tclick="onSelectTag(arr.tone, $event)">      
    </playlist-item>
		
		<!-- embient -->
    <playlist-item
      :checked="arr.embient.selectedTagIds"
      :title="arr.embient.title"
      :styleclass="arr.embient.styleclass"
			:list="arr.embient.tags"
      :visible="arr.embient.visible"
			@tclick="onSelectTag(arr.embient, $event)">      
    </playlist-item>
		
		<!-- sounds ->
    <playlist-item
      v-bind:key="arr.id"
      v-bind:checked="arr.selectedTagIds"
      v-bind:title="arr.title"
      v-bind:styleclass="arr.styleclass"
      v-bind:visible="arr.visible">      
    </playlist-item>
		<!-- -->
  </playlists>

	


<div style='padding-bottom: 6rem'>
<pre>{{musicTrackLength}}</pre>
<pre>{{player}}</pre>
<pre>{{arr}}</pre>
</div>

 <!-- player & settings -->
 <div class='BottomPanel'>
 <!-- player container -->
  <div class='PlayerPanel'>

    <!-- Timeline & Time -->
    <div class='PlayerTimePanel'>
      <!-- Timeline -->
      <div class='TimeLineWrapper'>
        <!-- <input type='range'> -->
        <range v-model.number='musicTrackLength' :max="player.track.maxVal"></range>
      </div>
    </div>

    <div class='PlayerRulePanel'>
			<audio id='PlayerAudio' :src='player.track.entity.src'>
			</audio>
      <!-- Sound Volume -->
      <!-- 
			<div class='VolumeWrapper'>
        <i class="fa fa-volume-down" aria-hidden="true"></i>
        <div class='rangeWrapper'>
          <range v-model.number='player.volume.val'></range>
        </div>
        <i class="fa fa-volume-up" aria-hidden="true"></i>
      </div>
			-->
				<volume-range v-model.number='player.volume.val' @mouseup.native="changePlayerVolume" @mousemove.native="changePlayerVolume"></volume-range>

      <!-- Buttons -->
      <div class='ButtonPlace'>
				<toggle-button id="PlayerFade"  ico="random"  :state="player.isFade"@click.native='onFadeClick'>
				</toggle-button>
        <!-- Play/Pause -->
        <!--button class='btn' id='PlayerPlayPauseButton'>
           <i class="fa fa-play" aria-hidden="true"></i>
        </button-->
				
				<player-play-button :state="player.isPlayed" @click.native='onPlayPauseClick'>
				</player-play-button>
        <!-- Next Track -->
        <!--button class='btn' id='PlayerNextTrackButton'>
          <i class="fa fa-forward" aria-hidden="true"></i>
        </button-->
				<player-button id="PlayerNextTrackButton" ico="forward">
				</player-button>
      </div>

      <!-- Track Name -->
      <div id="PlayerTrackNameWrapper" :title="player.track.entity.src">
        <span>
          {{player.track.entity.title}}<!--Track name 01.mp3-->
        </span>
      </div>

      <!-- Time -->
      <div class='TimeWrapper'>
        <span>
          {{musicTrackCurTime}}/{{musicTrackDuration}}
        </span>
      </div>

     </div>

  </div>
 </div>
 </div>
</body>
</html>
